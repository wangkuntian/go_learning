
# 包和Go工具
Go程序的编译速度比其他语言快，即便从零开始编译也是如此。主要有3个原因。
1. 所有的导入都在每个源文件的开头显式列出，编译器在确定依赖性时不需要读取和处理整个文件。
2. 包的依赖性形成有向无环图，因为没有环，所以包可以独立甚至并行编译。
3. Go包编译出的目标文件不仅记录它自己的导出信息，还记录它所依赖包的导出信息。当编译一个包时，编译器必须从每一个导入中读取一个目标文件，
但是不会超出这些文件。
   
# 导入路径
每一个包都通过一个唯一的字符串进行标识，称为导入路径。用在import声明中。

# 包的声明
在每一个Go源文件的开头都需要进行包声明。主要目的是当该包被其他包引入时作为其默认的标识符（包名）。

通常，包名是导入路径的最后一段。所以，即使导入路径不同的两个包，二者也可以用于同样的名字。但是有个三个例外。

1. 不管包的导入路径是什么，如果该包定义一条命令（可执行的Go程序），那么它总是使用名称main。这是告诉go build的信号，它必须调用连接器生成可执行文件。

2. 目录中可能有一些文件名字以_test.go结尾，包名中会以_test结尾。这样一个目录中有两个包：一个普通包，加上一个外部测试包。
_test后缀告诉go test两个包都需要构建，并且指明文件属于哪一个包。外部测试包用来避免测试所依赖的导入图中的循环依赖。

3. 一些管理工具会在包导入路径的尾部追加版本号后缀，如"gopkg.in/yaml.v2"。包名包含后缀，因此这个情况下包名为yaml。

# 导入声明
一个Go源文件可以在package声明的后面和第一个非导入声明语句前面紧接着包含0个或多个import声明。每一个导入可以单独指定一条导入路径，也可以通过圆括号括起来的列表一次导入多个包。

下面两种声明形式是等价的，但是第二种形式更常见。
```go
import "fmt"
import "os"
import (
	"fmt"
	"os"
)
```

导入的包可以通过空行进行分组，这类分组通常表示不同领域和方面的包。包的导入顺序不重要，但按照惯例每一组都按照字母进行排序。

## 重命名导入
导入相同命名的包时，需要为其中一个包指定代替名称来避免冲突。
```go
import (
	"crypto/rand"
	mrand "math/rand"
)
```

在导入的包的名称过于冗长时，使用一个替代名字可能更方便。

## 空导入
如果导入的包的名字没有在文件中利用，就会产生一个编译错误。但是，有时，我们必须导入一个包，为了对包级别的变量进行初始化表达式求值，并执行它的init函数。

为了防止"未使用的导入错误"，必须使用一个重命名导入，使用一个替代的名字_，这表示导入的内容为空白标识符。通常情况下，空白标识符不可能被引用。
```go
import _ "image/png" // 注册PNG解码器
```

# go工具
## GOPATH
GOPATH指定工作空间的根目录。

GOPATH有3个子目录。src子目录包含源文件；pkg子目录存储构建工具编译后的包；bin子目录放置可执行程序。

## GOROOT
GOROOT指定Go发行版的根目录，其中提供所有标准库的包。GOROOT下面的目录结构类似于GOPATH。

用户无需设置GOROOT，因为默认情况下go工具使用它的安装路径。


